<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ„ì„¸ì´ë¸Œ(Wesave) - ë„¤ì´ë²„ ì§€ë„ API ë¹„ìš© ê³„ì‚°ê¸°</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
                Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 24px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 100%;
            max-width: 600px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 28px 32px;
        }
        h1 {
            text-align: center;
            color: #0077c8; /* ì„¸ì´ë¸Œë”ì¹ ë“œëŸ° ë¡œê³  ìƒ‰ìƒ ëŠë‚Œ */
            margin-top: 0;
            margin-bottom: 24px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        input[type="range"] {
            width: 100%;
            margin-bottom: 4px;
        }
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ í¬ê¸° ê³„ì‚° */
        }
        .cost-display {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px dashed #ccc;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        #total-cost {
            font-size: 2.5rem;
            font-weight: 700;
            color: #d90008; /* ê°•ì¡° ìƒ‰ìƒ */
            text-align: center;
            margin-bottom: 20px;
        }
        .cost-breakdown p {
            display: flex;
            justify-content: space-between;
            font-size: 1rem;
            color: #555;
            margin: 8px 0;
        }
        .cost-breakdown span {
            font-weight: 600;
            color: #000;
        }
        .info {
            font-size: 0.85rem;
            color: #777;
            margin-top: 4px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ìœ„ì„¸ì´ë¸Œ(Wesave) ì§€ë„ API ì˜ˆìƒ ë¹„ìš©</h1>

        <div class="input-group">
            <label for="map-loads">ğŸ—ºï¸ ì›”ê°„ ì§€ë„ í˜ì´ì§€ ì ‘ì† ìˆ˜ (Web Dynamic Map)</label>
            <input type="number" id="map-loads" value="50000" min="0" step="1000">
            <p class="info">ì›” 6,000,000ê±´ ë¬´ë£Œ / ì´ˆê³¼ ì‹œ 0.1ì›</p>
        </div>

        <div class="input-group">
            <label for="geo-searches">ğŸ” ì›”ê°„ ì£¼ì†Œ/ì¥ì†Œ ê²€ìƒ‰ ìˆ˜ (Geocoding)</label>
            <input type="number" id="geo-searches" value="25000" min="0" step="500">
            <p class="info">ì›” 3,000,000ê±´ ë¬´ë£Œ / ì´ˆê³¼ ì‹œ 0.5ì›</p>
        </div>

        <div class="input-group">
            <label for="dir-clicks">ğŸš— ì›”ê°„ 'ê¸¸ì°¾ê¸°' í´ë¦­ ìˆ˜ (Directions 5)</label>
            <input type="range" id="dir-slider" min="0" max="200000" value="10000" step="1000">
            <input type="number" id="dir-clicks" value="10000" min="0" step="100">
            <p class="info">ì›” 60,000ê±´ ë¬´ë£Œ / ì´ˆê³¼ ì‹œ 5ì› (ê°€ì¥ ë¯¼ê°í•œ í•­ëª©)</p>
        </div>

        <div class="cost-display">
            <h2>ì›”ê°„ ì´ ì˜ˆìƒ ë¹„ìš© (VAT ë³„ë„)</h2>
            <div id="total-cost">0 ì›</div>
            <div class="cost-breakdown">
                <p>ì§€ë„ í‘œì‹œ ë¹„ìš©: <span id="map-cost">0 ì›</span></p>
                <p>ì£¼ì†Œ ê²€ìƒ‰ ë¹„ìš©: <span id="geo-cost">0 ì›</span></p>
                <p>ê¸¸ì°¾ê¸° ë¹„ìš©: <span id="dir-cost">0 ì›</span></p>
            </div>
        </div>
    </div>

    <script>
        // ì…ë ¥ ìš”ì†Œ(Input)ì™€ ì¶œë ¥ ìš”ì†Œ(Output) ì„ íƒ
        const mapInput = document.getElementById('map-loads');
        const geoInput = document.getElementById('geo-searches');
        const dirInput = document.getElementById('dir-clicks');
        const dirSlider = document.getElementById('dir-slider');

        const mapCostOut = document.getElementById('map-cost');
        const geoCostOut = document.getElementById('geo-cost');
        const dirCostOut = document.getElementById('dir-cost');
        const totalCostOut = document.getElementById('total-cost');

        // ë¬´ë£Œ ì´ìš©ëŸ‰ ë° ë‹¨ê°€ ì •ì˜
        const FREE_TIERS = {
            map: 6000000,
            geo: 3000000,
            dir: 60000
        };
        const RATES = {
            map: 0.1,
            geo: 0.5,
            dir: 5
        };

        // ë¹„ìš© ê³„ì‚° í•¨ìˆ˜
        function calculateCosts() {
            // 1. ì…ë ¥ ê°’ ê°€ì ¸ì˜¤ê¸° (ìˆ«ìë¡œ ë³€í™˜)
            const mapLoads = parseInt(mapInput.value) || 0;
            const geoSearches = parseInt(geoInput.value) || 0;
            const dirClicks = parseInt(dirInput.value) || 0;

            // 2. ë¬´ë£Œ ì´ìš©ëŸ‰ ì´ˆê³¼ë¶„ ê³„ì‚°
            const mapPayable = Math.max(0, mapLoads - FREE_TIERS.map);
            const geoPayable = Math.max(0, geoSearches - FREE_TIERS.geo);
            const dirPayable = Math.max(0, dirClicks - FREE_TIERS.dir);

            // 3. ì„œë¹„ìŠ¤ë³„ ë¹„ìš© ê³„ì‚°
            const mapCost = mapPayable * RATES.map;
            const geoCost = geoPayable * RATES.geo;
            const dirCost = dirPayable * RATES.dir;

            // 4. ì´ ë¹„ìš© ê³„ì‚°
            const totalCost = mapCost + geoCost + dirCost;

            // 5. ê²°ê³¼ë¥¼ UIì— í‘œì‹œ (ìˆ«ì ì½¤ë§ˆ í¬ë§·)
            mapCostOut.textContent = `${mapCost.toLocaleString('ko-KR')} ì›`;
            geoCostOut.textContent = `${geoCost.toLocaleString('ko-KR')} ì›`;
            dirCostOut.textContent = `${dirCost.toLocaleString('ko-KR')} ì›`;
            totalCostOut.textContent = `${totalCost.toLocaleString('ko-KR')} ì›`;
        }

        // 'ê¸¸ì°¾ê¸°' í•­ëª©ì˜ ìŠ¬ë¼ì´ë”ì™€ ìˆ«ì ì…ë ¥ì„ ì—°ë™
        dirSlider.addEventListener('input', () => {
            dirInput.value = dirSlider.value;
            calculateCosts();
        });
        dirInput.addEventListener('input', () => {
            dirSlider.value = dirInput.value;
            calculateCosts();
        });

        // ë‹¤ë¥¸ ì…ë ¥ í•­ëª©ë“¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        mapInput.addEventListener('input', calculateCosts);
        geoInput.addEventListener('input', calculateCosts);

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚° ì‹¤í–‰
        calculateCosts();
    </script>

</body>
</html>